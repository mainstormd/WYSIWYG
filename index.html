<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>JavaScript-инженер</title>
    <link rel="stylesheet" href="./styles/editor.css" />
    <link rel="stylesheet" href="./styles/page.css" />
  </head>
  <body>
    <div class="container">
      <main class="papercard">
        <div class="editor">
          <div class="edit-area" placeholder="Type something..." contenteditable="true"></div>
          <div class="toolkit">
            <button class="head-1" data-command="h1">
              <img src="assets/icons_h1.svg" alt="Head 1 button icon" />
            </button>
            <button class="head-2" data-command="h2">
              <img src="assets/icons_h2.svg" alt="Head 2 button icon" />
            </button>
            <button class="bold" data-command="bold">
              <img src="assets/icons_bold.svg" alt="Bold button icon" />
            </button>
            <button class="italic" data-command="italic">
              <img src="assets/icons_italic.svg" alt="Italic button icon" />
            </button>
          </div>
        </div>
      </main>
      <footer>
        <p class="authority">
          <b>Disgned</b> by
          <a href="https://dribbble.com/yaroslavsamoilov" target="_blank"
            >Yaroslav Samoilov</a
          >
        </p>
      </footer>
    </div>
    
    <script>
      let toolkitButtons = document.querySelectorAll('.toolkit button');
      
      for(let button of toolkitButtons)
       button.addEventListener('click',ToolkitButtonsClickHandler);

      
       function ToolkitButtonsClickHandler()
      {
        let command = this.dataset.command;

        if(command == 'h1' || command == 'h2')
        {
          let selection = window.getSelection();
          if(selection != "") 
          {
            var rangeselection = selection.getRangeAt(0);
            var node = document.createElement(command);

            node.style.fontSize = command == "h1" ? "32px" : "24px";
            node.style.fontWeight= 'bold';
            node.innerText = selection.toString();
            
            rangeselection.deleteContents();
            rangeselection.insertNode(node);
          }
          else 
            document.execCommand('formatBlock', false, command);
        }
        
        if(command == 'bold' || command == 'italic')
          document.execCommand(command, false, null);
      }
     
      
      
    </script>

  </body>
</html>


